<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…¨ãƒ©ã‚¤ãƒ³ãƒŠãƒƒãƒ— - NIKKEI Nihonshu Night</title>
    <link rel="icon" href="NNN_logo.jpg">
    <link rel="apple-touch-icon" href="NNN_logo.jpg">
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=Noto+Serif+JP:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <div class="map-section">
            <div style="font-weight:bold; color:#0C2B5E; margin-bottom:10px;">åœ°åŸŸã§çµã‚Šè¾¼ã‚€</div>
            <svg class="japan-map-svg" viewBox="0 0 500 350" xmlns="http://www.w3.org/2000/svg">
                <path id="hokkaido" class="region-path" d="M380,10 L480,30 L460,90 L390,100 L350,60 Z"
                    onclick="filterList('hokkaido')"></path>
                <path id="tohoku" class="region-path" d="M350,110 L410,110 L400,200 L330,190 Z"
                    onclick="filterList('tohoku')"></path>
                <path id="kanto" class="region-path" d="M330,190 L400,200 L380,260 L320,240 Z"
                    onclick="filterList('kanto')"></path>
                <path id="chubu" class="region-path" d="M260,160 L350,110 L330,190 L320,240 L280,250 L250,220 Z"
                    onclick="filterList('chubu')"></path>
                <path id="kinki" class="region-path" d="M220,190 L260,160 L250,220 L240,260 L200,240 Z"
                    onclick="filterList('kinki')"></path>
                <path id="chugoku" class="region-path" d="M140,180 L220,190 L200,240 L130,210 Z"
                    onclick="filterList('chugoku')"></path>
                <path id="shikoku" class="region-path" d="M150,250 L230,260 L220,290 L140,280 Z"
                    onclick="filterList('shikoku')"></path>
                <path id="kyushu" class="region-path" d="M50,200 L120,210 L110,290 L40,270 Z"
                    onclick="filterList('kyushu')"></path>
            </svg>
            <div id="current-filter"></div>
            <button id="reset-btn" class="reset-btn hidden" onclick="resetFilter()">ã™ã¹ã¦è¡¨ç¤º</button>
        </div>

        <div id="grid-container" class="grid"></div>
    </div>

    <script src="common.js"></script>
    <script src="sake-list.js"></script>

    <script>
        const regionMap = { "hokkaido": ["åŒ—æµ·é“"], "tohoku": ["é’æ£®çœŒ", "å²©æ‰‹çœŒ", "å®®åŸçœŒ", "ç§‹ç”°çœŒ", "å±±å½¢çœŒ", "ç¦å³¶çœŒ"], "kanto": ["èŒ¨åŸçœŒ", "æ ƒæœ¨çœŒ", "ç¾¤é¦¬çœŒ", "åŸ¼ç‰çœŒ", "åƒè‘‰çœŒ", "æ±äº¬éƒ½", "ç¥å¥ˆå·çœŒ"], "chubu": ["æ–°æ½ŸçœŒ", "å¯Œå±±çœŒ", "çŸ³å·çœŒ", "ç¦äº•çœŒ", "å±±æ¢¨çœŒ", "é•·é‡çœŒ", "å²é˜œçœŒ", "é™å²¡çœŒ", "æ„›çŸ¥çœŒ"], "kinki": ["ä¸‰é‡çœŒ", "æ»‹è³€çœŒ", "äº¬éƒ½åºœ", "å¤§é˜ªåºœ", "å…µåº«çœŒ", "å¥ˆè‰¯çœŒ", "å’Œæ­Œå±±çœŒ"], "chugoku": ["é³¥å–çœŒ", "å³¶æ ¹çœŒ", "å²¡å±±çœŒ", "åºƒå³¶çœŒ", "å±±å£çœŒ"], "shikoku": ["å¾³å³¶çœŒ", "é¦™å·çœŒ", "æ„›åª›çœŒ", "é«˜çŸ¥çœŒ"], "kyushu": ["ç¦å²¡çœŒ", "ä½è³€çœŒ", "é•·å´çœŒ", "ç†Šæœ¬çœŒ", "å¤§åˆ†çœŒ", "å®®å´çœŒ", "é¹¿å…å³¶çœŒ", "æ²–ç¸„çœŒ"] };
        const regionNames = { "hokkaido": "åŒ—æµ·é“", "tohoku": "æ±åŒ—", "kanto": "é–¢æ±", "chubu": "ä¸­éƒ¨", "kinki": "è¿‘ç•¿", "chugoku": "ä¸­å›½", "shikoku": "å››å›½", "kyushu": "ä¹å·ãƒ»æ²–ç¸„" };

        window.addEventListener('DOMContentLoaded', () => {
            if (typeof sakeData !== 'undefined') renderList(sakeData);
            else document.getElementById('grid-container').innerHTML = "<div class='no-data-msg'>ãƒ‡ãƒ¼ã‚¿èª­è¾¼ã‚¨ãƒ©ãƒ¼</div>";
        });

        function renderList(list) {
            const container = document.getElementById('grid-container');
            container.innerHTML = "";
            if (list.length === 0) { container.innerHTML = `<div class="no-data-msg">ã“ã®ã‚¨ãƒªã‚¢ã®ãŠé…’ã¯ã¾ã ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“ğŸ¶</div>`; return; }

            list.forEach(s => {
                container.innerHTML += `
                <div class="sake-card">
                    <div class="sake-img-area"><img src="${s.image}" alt="${s.name}" class="sake-img"></div>
                    <div class="card-body">
                        <div class="sake-name">${s.name}</div>
                        <div class="sake-info"><span class="pref-badge">${s.prefecture}</span>${s.brewery}</div>
                        <div class="sake-desc">${s.desc}</div>
                        <div class="params">
                            <div class="param-row"><span class="param-label">ç”˜ã•</span><div class="bar-bg"><div class="bar-fill" style="width: ${s.sweetness * 20}%"></div></div></div>
                            <div class="param-row"><span class="param-label">é¦™ã‚Š</span><div class="bar-bg"><div class="bar-fill" style="width: ${s.aroma * 20}%"></div></div></div>
                            <div class="param-row"><span class="param-label">é‡ã•</span><div class="bar-bg"><div class="bar-fill" style="width: ${s.richness * 20}%"></div></div></div>
                        </div>
                    </div>
                </div>`;
            });
        }

        function filterList(id) {
            document.querySelectorAll('.region-path').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            const target = regionMap[id];
            renderList(sakeData.filter(s => target.includes(s.prefecture)));
            document.getElementById('current-filter').textContent = `â–¼ ${regionNames[id]}ã‚¨ãƒªã‚¢ã‚’è¡¨ç¤ºä¸­`;
            document.getElementById('reset-btn').classList.remove('hidden');
        }

        function resetFilter() {
            document.querySelectorAll('.region-path').forEach(p => p.classList.remove('active'));
            renderList(sakeData);
            document.getElementById('current-filter').textContent = "";
            document.getElementById('reset-btn').classList.add('hidden');
        }
    </script>
</body>

</html>
